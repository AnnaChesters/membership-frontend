@()(implicit token: play.filters.csrf.CSRF.Token)

@import views.support.Asset

@slideShowElement(position: Int, imgSrcPrefix: String, description: String, isCurrent: Boolean = false) = {
    <figure class="slideshow__element@if(isCurrent == true){ is-current} js-slideshow-item">
        <figcaption class="slideshow__detail">
            <div class="progress-indicator">
                <span class="progress-indicator__index">@position</span>
                <span class="progress-indicator__separator">/ </span>
                <span class="progress-indicator__count">6</span>
            </div>
            <h2 class="slideshow__description">@description</h2>
        </figcaption>
        <div class="js-image-slideshow" data-src="@Asset.at("images/noAssetHash/home/hero/" + imgSrcPrefix + "{width}{pixel_ratio}.jpg")" data-alt="@description" data-class="responsive-img slideshow__image"></div>
    </figure>
}

@main("Home Page a-b", noIndex=true) {

    <section class="slideshow js-slideshow" data-slideshow-duration="5000">
        @slideShowElement(1, "man_aud_", "Guardian Live with Russell Brand", true)
        @slideShowElement(2, "pussy_riot_", "Guardian Live event: Pussy Riot - art, sex and disobedience")
        @slideShowElement(3, "jim_page_", "A life in music: Jimmy Page")
        @slideShowElement(4, "women_", "Guardian Live event: Russell Brand")
        @slideShowElement(5, "tin_temp_", "Observer Ideas - Stories that inspire: Tinie Tempah")
        @slideShowElement(6, "viv_west_", "Guardian Live event: Vivienne Westwood")
    </section>

    <section class="block-description block-description--right block-description--pull">
        <h1 class="text-feature">We're bringing the Guardian to life through live events and meet-ups. <a class="text-highlight" href="/join">Join and be part of the conversations that matter.</a></h1>
        <a class="action action--no-bottom-margin" href="/join">Join today</a>
    </section>

    <section class="page-content">
        <div class="section-features">
            <ul class="grid grid--bordered grid--4up">
                <li class="grid__item">
                    @fragments.page.featurePanel("images/noAssetHash/home/promo/whats-included-{width}{pixel_ratio}.png",
                        "Discover what's included with Guardian Membership", "/about")
                </li>
                <li class="grid__item">
                    @fragments.page.featurePanel("images/noAssetHash/home/promo/events-{width}{pixel_ratio}.jpg",
                        "Browse our events and book your tickets now", "/events")
                </li>
                <li class="grid__item">
                    @fragments.page.featurePanel("images/noAssetHash/home/promo/compare-tiers-{width}{pixel_ratio}.jpg",
                        "Compare the three tiers of Guardian Membership", "/join")
                </li>
                <li class="grid__item">
                    @fragments.page.featurePanel("images/noAssetHash/home/promo/become_patron_{width}{pixel_ratio}.jpg",
                        "Become a Patron and support the Guardian's future", "/patrons")
                </li>
            </ul>
        </div>
    </section>

}
