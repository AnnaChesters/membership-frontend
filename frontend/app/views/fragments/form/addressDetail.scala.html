@(heading: String, note: String, formType: String, addressRequired: Boolean = true,
address1: Option[String], address2: Option[String], town: Option[String], postcode: Option[String],
county: Option[String], userCountry: Option[String])

@import model.Countries

@subdivisionSelect(subdivisionsList: List[String], subdivisionType: String, subdivisionLabel: String, isStateOrProvence: Boolean = false) = {
    <div class="form-field address-fieldset__country@if(isStateOrProvence == true){ u-h}">
        <label class="label" for="@subdivisionLabel-@(formType)">@subdivisionLabel.capitalize</label>
        <div class="input">
            <select name="@(formType).@(subdivisionType)"
                    id="@subdivisionLabel-@(formType)"
                    @if(isStateOrProvence == true) {
                    data-error-message="Please enter your @subdivisionLabel.capitalize"
                    data-validation="required"
                    }>
            @for(subdivision <- subdivisionsList) {
                <option value="@subdivision"@if(userCountry.getOrElse("") == subdivision){selected}>@subdivision</option>
            }
            </select>
        </div>
    </div>
}

<fieldset class="fieldset address-fieldset js-@(formType)-fieldset">

    <div class="address-fieldset__inner">

        <div class="fieldset__heading">
            <h2 class="form__heading">@heading</h2>
            <div class="form__note">@note</div>
        </div>

        <div class="fieldset__fields">

            <div class="form-field">
                <label class="label" for="address-line-one-@(formType)">Address line 1</label>
                <input type="text"
                       name="@(formType).lineOne"
                       value="@address1"
                       id="address-line-one-@(formType)"
                       class="text-input text-input--block js-address-line-one"
                       data-error-message="Please enter your @heading.toLowerCase() first line"
                       @if(addressRequired == true){data-validation="required"} />
            </div>

            <div class="form-field">
                <label class="label" for="address-line-two-@(formType)">Address line 2</label>
                <input type="text"
                       name="@(formType).lineTwo"
                       value="@address2"
                       id="address-line-two-@(formType)"
                       class="text-input text-input--block js-address-line-two"/>
            </div>

            <div class="form-field">
                <label class="label" for="town-@(formType)">Town</label>
                <input type="text"
                       name="@(formType).town"
                       value="@town"
                       id="town-@(formType)"
                       class="text-input text-input--block js-town"
                       data-error-message="Please enter your @heading.toLowerCase() town"
                       @if(addressRequired == true){data-validation="required"} />
            </div>

            <div class="form-field">
                <label class="label" for="postCode-@(formType)">Post code</label>
                <input type="text"
                       name="@(formType).postCode"
                       value="@postcode"
                       id="postCode-@(formType)"
                       class="text-input text-input--block js-post-code"
                       data-error-message="Please enter your @heading.toLowerCase() post code"
                       data-validation="required"/>
            </div>

            @subdivisionSelect(Countries.all, "country", "country")
            @subdivisionSelect(Countries.US.states.toList, "countyOrState", "state", true)
            @subdivisionSelect(Countries.Canada.states.toList, "countyOrState", "province", true)

            <div class="form-field js-county-section">
                <label class="label" for="county-or-state-@(formType)">County</label>
                <input type="text"
                       name="@(formType).countyOrState"
                       value="@county"
                       id="county-or-state-@(formType)"
                       class="text-input text-input--block js-county-state"/>
            </div>
        </div>
    </div>
</fieldset>
