@(currentTier: com.gu.membership.salesforce.Tier.Tier, tier: com.gu.membership.salesforce.Tier.Tier)

@import configuration.Config
@import com.gu.membership.salesforce.Tier

@defining(currentTier == tier) { isCurrentPackage =>
    <div class="package@if(isCurrentPackage){ package--current}">
        @if(isCurrentPackage) {
            <div class="package__current-indicator">Your Current Package</div>
        }
        <div class="package__inner">
            <h2 class="package__title">@tier</h2>
            <div>
                <span class="package__price">
                    @Config.benefits(tier).priceText
                    @if(tier > Tier.Friend){
                        <span class="package__pcm">pcm</span>
                    }
                </span>
                @if(!isCurrentPackage) {
                    @defining(
                        (Config.benefits(currentTier).level == 1 && Config.benefits(tier).level != 2) ||
                        (Config.benefits(currentTier).level == 2 && Config.benefits(tier).level != 1)
                    ) { canChangeTier =>
                        <@if(canChangeTier){a href="/tier/change/@tier.toString.toLowerCase"} else {span} class="action-cta action-cta--full-width-mobile action-cta--confirm@if(!canChangeTier) { action-cta--cancel}">
                            @if(canChangeTier) {
                                @Config.benefits(tier).cta
                            } else {
                                Coming soon
                            }
                        </@if(canChangeTier){a} else {span}>
                    }
                }
            </div>
            <p>@Config.benefits(tier).leadin</p>
            <ul class="package__list-element">
                @for(item <- Config.benefits(tier).list) {
                    <li>@item</li>
                }
            </ul>
        </div>
    </div>
}
