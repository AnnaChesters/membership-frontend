@(eventPortfolio: model.EventPortfolio, pageInfo: model.PageInfo, selectedTag: String = "")(implicit token: play.filters.csrf.CSRF.Token)

@import model.Eventbrite.MasterclassEvent

@main("Masterclasses", containerPadding=false, htmlClass="events-bg theme--masterclass", pageInfo=pageInfo) {

    @fragments.event.headerBar(
        "Courses and workshops taught by award-winning professionals, with discounts for Partners and Patrons",
        "masterclasses"
    )

    <div class="event-block">
        <div class="event-block__events event-block__events--no-header">
            <label class="events-list__category">
                Show:
                <select class="events-list__category__select js-filter-category">
                    <option value="all">All categories</option>
                    @for(tag <- MasterclassEvent.topLevelTags) {
                        <option value="@MasterclassEvent.encodeTag(tag)" @if(tag == selectedTag){ selected}>@tag</option>
                    }
                </select>
            </label>
            <span class="events-list__count">
                <span class="js-filter-count">@eventPortfolio.normal.length</span> masterclasses
                @if(selectedTag.isEmpty) {
                    <span class="hidden-mobile">in @MasterclassEvent.topLevelTags.length categories</span>
                }
            </span>
            <label class="events-list__filter">
                <input type="text"
                       class="events-list__filter__text"
                       id="js-filter"
                       data-filter-field="title"
                       placeholder="Filter by title"
                       autocomplete="off" />
                <i class="events-list__filter__icon icon-search"></i>
                <button class="events-list__filter__cross icon-cross is-hidden js-filter-clear"></button>
            </label>
        </div>
    </div>

    @views.html.event.list(eventPortfolio, pageInfo)
}
